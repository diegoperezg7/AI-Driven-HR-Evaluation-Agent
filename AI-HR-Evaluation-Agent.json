{
  "name": "Agente RRHH + Escalado",
  "nodes": [
    {
      "parameters": {
        "sessionIdType": "customKey",
        "sessionKey": "1",
        "contextWindowLength": 15
      },
      "id": "19029294-1ebf-4b85-83f5-cff3c029abeb",
      "name": "Simple Memory",
      "type": "@n8n/n8n-nodes-langchain.memoryBufferWindow",
      "typeVersion": 1.3,
      "position": [
        -112,
        816
      ]
    },
    {
      "parameters": {
        "model": {
          "__rl": true,
          "value": "gpt-4.1-mini",
          "mode": "list",
          "cachedResultName": "gpt-4.1-mini"
        },
        "options": {}
      },
      "id": "a75c7e60-4d54-4c09-9a59-69ae5e827b20",
      "name": "OpenAI Chat Model",
      "type": "@n8n/n8n-nodes-langchain.lmChatOpenAi",
      "typeVersion": 1.2,
      "position": [
        -272,
        816
      ],
      "credentials": {
        "openAiApi": {
          "id": "n5CPqIo8jLwwyoxW",
          "name": "OpenAi account"
        }
      }
    },
    {
      "parameters": {
        "operation": "append",
        "documentId": {
          "__rl": true,
          "value": "1EJHGWduQvwaEfsaYI4-gIX5ALr-twon-tLKy8NR7Jm0",
          "mode": "list",
          "cachedResultName": "n8n-hr-agent",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1EJHGWduQvwaEfsaYI4-gIX5ALr-twon-tLKy8NR7Jm0/edit?usp=drivesdk"
        },
        "sheetName": {
          "__rl": true,
          "value": 1885976442,
          "mode": "list",
          "cachedResultName": "Hoja 1",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1EJHGWduQvwaEfsaYI4-gIX5ALr-twon-tLKy8NR7Jm0/edit#gid=1885976442"
        },
        "columns": {
          "mappingMode": "defineBelow",
          "value": {
            "Email": "={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Email', ``, 'string') }}",
            "id": "={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('id', `generate a unique id for echa candidate, can't be repeated and must be repeated`, 'string') }}",
            "Date": "={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Date', `La fecha debe estar en el siguiente formato \"hh:mm dd-mm-yyyy\"`, 'string') }}",
            "Name": "={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Name', ``, 'string') }}",
            "Position": "={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Position', ``, 'string') }}",
            "Summary": "={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Summary', ``, 'string') }}",
            "Note": "={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Note', ``, 'string') }}",
            "Evaluation": "={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Evaluation', ``, 'string') }}",
            "Status": "={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Status', ``, 'string') }}"
          },
          "matchingColumns": [
            "id"
          ],
          "schema": [
            {
              "id": "id",
              "displayName": "id",
              "required": false,
              "defaultMatch": true,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "Date",
              "displayName": "Date",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "Name",
              "displayName": "Name",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "Email",
              "displayName": "Email",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "Position",
              "displayName": "Position",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "Evaluation",
              "displayName": "Evaluation",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "Note",
              "displayName": "Note",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "Summary",
              "displayName": "Summary",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "Status",
              "displayName": "Status",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            }
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        },
        "options": {}
      },
      "type": "n8n-nodes-base.googleSheetsTool",
      "typeVersion": 4.5,
      "position": [
        176,
        864
      ],
      "id": "72c9a42d-5c46-4f82-85dc-e52a9955e48d",
      "name": "Google Sheets",
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "oHOKCD5PPAyhDa4b",
          "name": "Google Sheets account"
        }
      }
    },
    {
      "parameters": {
        "sendTo": "={{ $('On form submission').item.json.Email }}",
        "subject": "={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Subject', ``, 'string') }}",
        "emailType": "text",
        "message": "={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Message', `Bien estructurado en parrafos para favorecer a la lectura`, 'string') }}",
        "options": {
          "appendAttribution": false
        }
      },
      "type": "n8n-nodes-base.gmailTool",
      "typeVersion": 2.1,
      "position": [
        1776,
        160
      ],
      "id": "178ebc63-e06f-4787-ab1a-161f3fbf9d35",
      "name": "Gmail",
      "webhookId": "e603028a-c307-4dce-a8d4-1c35c51b0b30",
      "credentials": {
        "gmailOAuth2": {
          "id": "1kaFS9UVmMsLooqG",
          "name": "Gmail account"
        }
      }
    },
    {
      "parameters": {
        "calendar": {
          "__rl": true,
          "value": "agenciainexia@gmail.com",
          "mode": "list",
          "cachedResultName": "agenciainexia@gmail.com"
        },
        "start": "={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Start', ``, 'string') }}",
        "end": "={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('End', ``, 'string') }}",
        "useDefaultReminders": false,
        "additionalFields": {
          "attendees": [
            "={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Attendees', ``, 'string') }}"
          ],
          "conferenceDataUi": {},
          "summary": "={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Summary', `TÃ­tulo del evento`, 'string') }}"
        }
      },
      "type": "n8n-nodes-base.googleCalendarTool",
      "typeVersion": 1.3,
      "position": [
        1952,
        352
      ],
      "id": "6ac10192-c073-4f72-b8ea-ac5c928aa17f",
      "name": "Google Calendar",
      "credentials": {
        "googleCalendarOAuth2Api": {
          "id": "Oa3fYyktdCg1CUSJ",
          "name": "Google Calendar account"
        }
      }
    },
    {
      "parameters": {
        "operation": "pdf",
        "binaryPropertyName": "=CV",
        "options": {}
      },
      "type": "n8n-nodes-base.extractFromFile",
      "typeVersion": 1,
      "position": [
        -816,
        592
      ],
      "id": "29a25fe1-e788-4145-82f4-9f1f78a39737",
      "name": "Extract from File"
    },
    {
      "parameters": {
        "resource": "calendar",
        "calendar": {
          "__rl": true,
          "value": "agenciainexia@gmail.com",
          "mode": "list",
          "cachedResultName": "agenciainexia@gmail.com"
        },
        "timeMin": "={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Start_Time', ``, 'string') }}",
        "timeMax": "={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('End_Time', ``, 'string') }}",
        "options": {}
      },
      "type": "n8n-nodes-base.googleCalendarTool",
      "typeVersion": 1.3,
      "position": [
        1792,
        352
      ],
      "id": "012ef38f-1b79-4323-b7cb-571a7ea41d9d",
      "name": "Google Calendar1",
      "credentials": {
        "googleCalendarOAuth2Api": {
          "id": "Oa3fYyktdCg1CUSJ",
          "name": "Google Calendar account"
        }
      }
    },
    {
      "parameters": {
        "chatId": "7460408421",
        "text": "={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Text', `Escribe un mensaje al encargado de recursos humanos con un breve resumen del candidato y de las acciones realizadas. Usa espacios y emojis para que sea mas legible.`, 'string') }}",
        "additionalFields": {
          "appendAttribution": false
        }
      },
      "type": "n8n-nodes-base.telegramTool",
      "typeVersion": 1.2,
      "position": [
        1936,
        160
      ],
      "id": "010a126d-285d-4c04-9805-1f72aa89b4be",
      "name": "Telegram",
      "webhookId": "191303e1-366a-4493-bab1-5f9dacf40a97",
      "credentials": {
        "telegramApi": {
          "id": "kHj2FK1jSEemAAIc",
          "name": "Telegram account"
        }
      }
    },
    {
      "parameters": {
        "formTitle": "TechNova HR Portal",
        "formDescription": "AI-Powered Candidate Screening & Interview Scheduling",
        "formFields": {
          "values": [
            {
              "fieldLabel": "Name",
              "placeholder": "Name",
              "requiredField": true
            },
            {
              "fieldLabel": "Email",
              "fieldType": "email",
              "placeholder": "Email",
              "requiredField": true
            },
            {
              "fieldLabel": "Job Titles",
              "fieldType": "dropdown",
              "fieldOptions": {
                "values": [
                  {
                    "option": "Junior Data Analyst"
                  },
                  {
                    "option": "IT Support Technician"
                  },
                  {
                    "option": "Digital Administrative Assistant"
                  }
                ]
              },
              "requiredField": true
            },
            {
              "fieldLabel": "CV",
              "fieldType": "file",
              "multipleFiles": false,
              "acceptFileTypes": "pdf",
              "requiredField": true
            }
          ]
        },
        "options": {
          "appendAttribution": false,
          "customCss": "=:root {\n\t--font-family: 'Inter', 'Open Sans', sans-serif;\n\t--font-weight-normal: 400;\n\t--font-weight-bold: 600;\n\t--font-size-body: 14px;\n\t--font-size-label: 14px;\n\t--font-size-header: 26px;\n\t--font-size-error: 12px;\n\n\t/* Tech Gradient Colors */\n\t--color-primary: #6c63ff;\n\t--color-secondary: #38bdf8;\n\t--color-accent: #a855f7;\n\t--color-background: radial-gradient(circle at top left, #0e0f1a, #1b1e2e);\n\t--color-card-bg: rgba(255, 255, 255, 0.08);\n\t--color-card-border: rgba(255, 255, 255, 0.15);\n\t--color-input-bg: rgba(255, 255, 255, 0.08);\n\t--color-input-border: rgba(255, 255, 255, 0.25);\n\t--color-input-text: #e5e7eb;\n\t--color-label: #c5c7d1;\n\t--color-header: #ffffff;\n\t--color-submit-btn-bg: linear-gradient(90deg, var(--color-primary), var(--color-accent));\n\t--color-submit-btn-bg-hover: linear-gradient(90deg, var(--color-accent), var(--color-secondary));\n\t--color-submit-btn-text: #ffffff;\n\t--color-test-notice-bg: rgba(255, 255, 255, 0.08);\n\t--color-test-notice-text: #eab308;\n\n\t--border-radius-card: 16px;\n\t--border-radius-input: 10px;\n\n\t--box-shadow-card: 0 8px 32px rgba(0, 0, 0, 0.25);\n\t--box-shadow-focus: 0 0 12px var(--color-accent);\n\n\t--transition-fast: 0.25s ease;\n}\n\n/* Body Background */\nbody {\n\tbackground: var(--color-background);\n\tfont-family: var(--font-family);\n\tcolor: var(--color-input-text);\n\tdisplay: flex;\n\tjustify-content: center;\n\talign-items: center;\n\tmin-height: 100vh;\n\tmargin: 0;\n}\n\n/* Card Container */\nform {\n\tbackground: var(--color-card-bg);\n\tborder: 1px solid var(--color-card-border);\n\tbackdrop-filter: blur(12px);\n\tbox-shadow: var(--box-shadow-card);\n\tborder-radius: var(--border-radius-card);\n\tpadding: 40px;\n\twidth: 420px;\n\tdisplay: flex;\n\tflex-direction: column;\n\tgap: 18px;\n}\n\n/* Header */\nform h2 {\n\ttext-align: center;\n\tcolor: var(--color-header);\n\tfont-size: var(--font-size-header);\n\tfont-weight: 600;\n\tmargin-bottom: 10px;\n\tletter-spacing: 1px;\n}\n\n/* Labels */\nlabel {\n\tcolor: var(--color-label);\n\tfont-size: var(--font-size-label);\n\tmargin-bottom: 6px;\n\tdisplay: block;\n}\n\n/* Inputs, Select, File */\ninput[type=\"text\"],\ninput[type=\"email\"],\nselect,\ninput[type=\"file\"] {\n\twidth: 100%;\n\tpadding: 12px 14px;\n\tbackground: var(--color-input-bg);\n\tcolor: var(--color-input-text);\n\tborder: 1px solid var(--color-input-border);\n\tborder-radius: var(--border-radius-input);\n\toutline: none;\n\ttransition: border var(--transition-fast), box-shadow var(--transition-fast);\n}\n\ninput:focus,\nselect:focus {\n\tborder-color: var(--color-accent);\n\tbox-shadow: var(--box-shadow-focus);\n}\n\n/* File Input */\ninput[type=\"file\"]::-webkit-file-upload-button {\n\tbackground: var(--color-submit-btn-bg);\n\tcolor: #fff;\n\tborder: none;\n\tpadding: 8px 14px;\n\tborder-radius: 6px;\n\tcursor: pointer;\n\ttransition: background var(--transition-fast);\n}\ninput[type=\"file\"]::-webkit-file-upload-button:hover {\n\tbackground: var(--color-submit-btn-bg-hover);\n}\n\n/* Submit Button */\nbutton[type=\"submit\"],\ninput[type=\"submit\"] {\n\tbackground: var(--color-submit-btn-bg);\n\tborder: none;\n\tborder-radius: 10px;\n\tcolor: var(--color-submit-btn-text);\n\tfont-size: 15px;\n\tfont-weight: 600;\n\tpadding: 14px;\n\tcursor: pointer;\n\ttransition: all var(--transition-fast);\n\tbox-shadow: 0 4px 16px rgba(108, 99, 255, 0.4);\n}\n\nbutton[type=\"submit\"]:hover,\ninput[type=\"submit\"]:hover {\n\tbackground: var(--color-submit-btn-bg-hover);\n\ttransform: translateY(-1px);\n\tbox-shadow: 0 4px 24px rgba(168, 85, 247, 0.5);\n}\n\n/* Test Notice */\n.test-notice {\n\tbackground: var(--color-test-notice-bg);\n\tcolor: var(--color-test-notice-text);\n\tborder: 1px solid rgba(234, 179, 8, 0.3);\n\tpadding: 10px 16px;\n\tborder-radius: 8px;\n\tfont-size: 13px;\n\ttext-align: center;\n\tmargin-bottom: 12px;\n}\n\n/* Smooth placeholder */\n::placeholder {\n\tcolor: rgba(255, 255, 255, 0.5);\n\topacity: 1;\n}\n.subheader {\n  text-align: center;\n  color: #9ca3af;\n  font-size: 13px;\n  margin-top: -6px;\n  margin-bottom: 16px;\n  letter-spacing: 0.5px;\n  text-transform: uppercase;\n  background: linear-gradient(90deg, #6c63ff, #38bdf8);\n  -webkit-background-clip: text;\n  -webkit-text-fill-color: transparent;\n  font-weight: 500;\n}\n\n\n/* Subtle fade-in animation */\n@keyframes fadeIn {\n\tfrom { opacity: 0; transform: translateY(8px); }\n\tto { opacity: 1; transform: translateY(0); }\n}\n\nform {\n\tanimation: fadeIn 0.8s ease forwards;\n}\n\n/* ---------- CUSTOM SELECT ---------- */\n\nselect {\n\tbackground: var(--color-input-bg);\n\tcolor: var(--color-input-text);\n\tborder: 1px solid var(--color-input-border);\n\tborder-radius: var(--border-radius-input);\n\tpadding: 12px 14px;\n\tcursor: pointer;\n\tappearance: none;\n\t-webkit-appearance: none;\n\t-moz-appearance: none;\n\tposition: relative;\n\ttransition: all var(--transition-fast);\n}\n\n\n\n/* Color al pasar el ratÃ³n o enfocar */\nselect:hover,\nselect:focus {\n\tborder-color: var(--color-accent);\n\tbox-shadow: var(--box-shadow-focus);\n\tcolor: #ffffff;\n}\n\n/* Opciones desplegadas */\noption {\n\tbackground-color: #1e2030;\n\tcolor: #e5e7eb;\n\tfont-size: 14px;\n\tpadding: 10px;\n\tcursor: pointer;\n}\n\n/* OpciÃ³n seleccionada y hover */\noption:hover,\noption:checked,\noption:focus {\n\tbackground-color: #2e3350;\n\tcolor: #fff;\n}\n\n/* Placeholder de select (primera opciÃ³n vacÃ­a) */\nselect option:first-child {\n\tcolor: rgba(255, 255, 255, 0.4);\n}\n\n/* Corrige borde inferior mÃ¡s claro en algunos navegadores */\nselect:focus-visible {\n\toutline: none;\n}\n\n/* AÃ±ade transiciÃ³n suave */\nselect,\noption {\n\ttransition: all 0.2s ease;\n}\n\n\n"
        }
      },
      "type": "n8n-nodes-base.formTrigger",
      "typeVersion": 2.3,
      "position": [
        -1088,
        592
      ],
      "id": "f95ca690-01fd-48f7-ab16-1039ea90ceba",
      "name": "On form submission",
      "webhookId": "5403fb75-eaec-4f7d-aaa0-a5639410fca0",
      "alwaysOutputData": true
    },
    {
      "parameters": {
        "description": "Use the tool to think deeper. It will not obtain new information or change the database, but just append the thought to the log. Use it when complex reasoning or some cache memory is needed."
      },
      "type": "@n8n/n8n-nodes-langchain.toolThink",
      "typeVersion": 1.1,
      "position": [
        16,
        816
      ],
      "id": "5faffc17-cb2b-463a-be20-a746c8a66c84",
      "name": "Think"
    },
    {
      "parameters": {
        "promptType": "define",
        "text": "=You are an AI specialized in HR data extraction and CV parsing. \nYour task is to analyze the following raw text extracted from a resume and organize it into a structured and clean format that can be easily processed by another AI agent.\n\nThe input may be noisy, contain formatting artifacts or mixed sections. Clean and normalize the data.\n\nOutput ONLY in JSON format with the following structure:\n\n{\n  \"personal_information\": {\n    \"full_name\": \"\",\n    \"email\": \"\",\n    \"phone\": \"\",\n    \"location\": \"\",\n    \"linkedin\": \"\",\n    \"portfolio\": \"\"\n  },\n  \"professional_summary\": \"\",\n  \"skills\": [],\n  \"languages\": [],\n  \"education\": [\n    {\n      \"degree\": \"\",\n      \"institution\": \"\",\n      \"start_date\": \"\",\n      \"end_date\": \"\",\n      \"details\": \"\"\n    }\n  ],\n  \"experience\": [\n    {\n      \"position\": \"\",\n      \"company\": \"\",\n      \"start_date\": \"\",\n      \"end_date\": \"\",\n      \"description\": \"\"\n    }\n  ],\n  \"certifications\": [\n    {\n      \"name\": \"\",\n      \"organization\": \"\",\n      \"year\": \"\"\n    }\n  ],\n  \"projects\": [\n    {\n      \"title\": \"\",\n      \"technologies\": [],\n      \"description\": \"\"\n    }\n  ],\n  \"other_information\": \"\"\n}\n\nRules:\n- Do not invent or hallucinate data.\n- Leave empty fields if information is missing.\n- Keep text clean and concise.\n- Maintain chronological order where applicable.\n- Remove repeated or irrelevant lines (e.g. âCurrÃ­culum Vitaeâ, âPage 1 of 2â, etc.).\n- Do not include explanations, commentary, or additional text â output only the JSON.\n\nHere is the extracted resume text:\n{{ $json.text }}\n\n",
        "batching": {}
      },
      "type": "@n8n/n8n-nodes-langchain.chainLlm",
      "typeVersion": 1.7,
      "position": [
        -592,
        592
      ],
      "id": "319ea39f-1e51-4314-aa4b-a1858eeb9055",
      "name": "Basic LLM Chain"
    },
    {
      "parameters": {
        "model": {
          "__rl": true,
          "mode": "list",
          "value": "gpt-4.1-mini"
        },
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.lmChatOpenAi",
      "typeVersion": 1.2,
      "position": [
        -672,
        800
      ],
      "id": "7f94e04a-d068-4c33-9c9d-d62b165b9f2f",
      "name": "OpenAI Chat Model1",
      "credentials": {
        "openAiApi": {
          "id": "n5CPqIo8jLwwyoxW",
          "name": "OpenAi account"
        }
      }
    },
    {
      "parameters": {
        "sessionIdType": "customKey",
        "sessionKey": "2",
        "contextWindowLength": 20
      },
      "type": "@n8n/n8n-nodes-langchain.memoryBufferWindow",
      "typeVersion": 1.3,
      "position": [
        1568,
        176
      ],
      "id": "b74500f3-5c15-4572-927a-97c1c8e9dbcf",
      "name": "Simple Memory1"
    },
    {
      "parameters": {
        "model": {
          "__rl": true,
          "mode": "list",
          "value": "gpt-4.1-mini"
        },
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.lmChatOpenAi",
      "typeVersion": 1.2,
      "position": [
        1424,
        176
      ],
      "id": "05364c3d-cdfa-40e6-a346-b1e1bc740bd4",
      "name": "OpenAI Chat Model2",
      "credentials": {
        "openAiApi": {
          "id": "n5CPqIo8jLwwyoxW",
          "name": "OpenAi account"
        }
      }
    },
    {
      "parameters": {
        "operation": "sendAndWait",
        "chatId": "7460408421",
        "message": "Please review the candidateâs profile and confirm whether to proceed with the interview stage.\n",
        "approvalOptions": {
          "values": {
            "approvalType": "double",
            "approveLabel": "â Approve â Proceed with interview  ",
            "disapproveLabel": "â Decline â End the process"
          }
        },
        "options": {
          "appendAttribution": false
        }
      },
      "type": "n8n-nodes-base.telegram",
      "typeVersion": 1.2,
      "position": [
        624,
        336
      ],
      "id": "741ba5e7-4f99-43ea-bbaf-f3542f2fcfc6",
      "name": "Send message and wait for response",
      "webhookId": "efa2db89-99d5-4df3-b62a-668edf38451d",
      "credentials": {
        "telegramApi": {
          "id": "kHj2FK1jSEemAAIc",
          "name": "Telegram account"
        }
      }
    },
    {
      "parameters": {
        "conditions": {
          "options": {
            "caseSensitive": true,
            "leftValue": "",
            "typeValidation": "strict",
            "version": 2
          },
          "conditions": [
            {
              "id": "a91e127f-e5bb-4fa4-870d-51bf625d21f3",
              "leftValue": "={{ $json.data.approved }}",
              "rightValue": "",
              "operator": {
                "type": "boolean",
                "operation": "true",
                "singleValue": true
              }
            }
          ],
          "combinator": "and"
        },
        "options": {}
      },
      "type": "n8n-nodes-base.if",
      "typeVersion": 2.2,
      "position": [
        832,
        336
      ],
      "id": "47116694-f633-40bf-8394-b77d4d216487",
      "name": "If"
    },
    {
      "parameters": {
        "operation": "update",
        "documentId": {
          "__rl": true,
          "value": "https://docs.google.com/spreadsheets/d/1EJHGWduQvwaEfsaYI4-gIX5ALr-twon-tLKy8NR7Jm0/edit?gid=1885976442#gid=1885976442",
          "mode": "url"
        },
        "sheetName": {
          "__rl": true,
          "value": "https://docs.google.com/spreadsheets/d/1EJHGWduQvwaEfsaYI4-gIX5ALr-twon-tLKy8NR7Jm0/edit?gid=1885976442#gid=1885976442",
          "mode": "url"
        },
        "columns": {
          "mappingMode": "defineBelow",
          "value": {
            "id": "={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('id__using_to_match_', ``, 'string') }}",
            "Evaluation": "={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Evaluation', ``, 'string') }}",
            "Status": "={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Status', ``, 'string') }}"
          },
          "matchingColumns": [
            "id"
          ],
          "schema": [
            {
              "id": "id",
              "displayName": "id",
              "required": false,
              "defaultMatch": true,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "Date",
              "displayName": "Date",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Name",
              "displayName": "Name",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Email",
              "displayName": "Email",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Position",
              "displayName": "Position",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Evaluation",
              "displayName": "Evaluation",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "Note",
              "displayName": "Note",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Summary",
              "displayName": "Summary",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Status",
              "displayName": "Status",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "row_number",
              "displayName": "row_number",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "number",
              "canBeUsedToMatch": true,
              "readOnly": true,
              "removed": true
            }
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        },
        "options": {}
      },
      "type": "n8n-nodes-base.googleSheetsTool",
      "typeVersion": 4.5,
      "position": [
        1936,
        512
      ],
      "id": "d87d8752-7223-4968-8675-888330861db7",
      "name": "Google Sheets1",
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "oHOKCD5PPAyhDa4b",
          "name": "Google Sheets account"
        }
      }
    },
    {
      "parameters": {
        "promptType": "define",
        "text": "=You are TalentBot Reject, the candidate rejection agent for TechNova Solutions.\n\nâââââââââââââââââââââââââââââ\nð¯ OBJECTIVE\nâââââââââââââââââââââââââââââ\nWhen a candidate has been evaluated and marked as not suitable, your task is to:\n1ï¸â£ Send the rejection email (using the Gmail tool â the message is already predefined in that node).\n2ï¸â£ Update the Google Sheets record to reflect the rejection status.\n\nâââââââââââââââââââââââââââââ\nð§© REQUIRED INPUTS\nâââââââââââââââââââââââââââââ\n\nCandidate name â {{ $('On form submission').item.json.Name }}\n\nCandidate email â {{ $('On form submission').item.json.Email }}\n\nCandidate position â {{ $('On form submission').item.json['Job Titles'] }}\n\nâââââââââââââââââââââââââââââ\nâï¸ TOOL USAGE ORDER\nâââââââââââââââââââââââââââââ\n1ï¸â£ Gmail (Send Message)\n\nSend the predefined rejection email to {{ $('On form submission').item.json.Email }}.\n\nDo not modify the email text; it is already configured.\n\n2ï¸â£ Google Sheets (Update Row)\n\nFind the candidateâs record by matching the email {{ $('On form submission').item.json.Email }}.\n\nUpdate the following fields:\nâ¢ EvaluaciÃ³n â No apto\nâ¢ Estado â Rechazado\n\n\nYou can have some info from this mesage, like the id, candidate name, email, position etc: {{ $('AI Agent Evaluator').item.json.output }}\n\nâââââââââââââââââââââââââââââ\nâ ï¸ RULES\nâââââââââââââââââââââââââââââ\n\nPerform both actions in this exact order: send email â update sheet.\n\nNever skip the sheet update, even if the email fails.\n\nBe deterministic â no assumptions, no random responses.\n\nOutput a confirmation summary once both steps are complete.\n\nâââââââââââââââââââââââââââââ\nð¤ OUTPUT FORMAT\nâââââââââââââââââââââââââââââ\n\nâ REJECTION SUMMARY\n\nCandidate: {{ $('On form submission').item.json.Name }}\nPosition: {{ $('On form submission').item.json['Job Titles'] }}\nEmail: {{ $('On form submission').item.json.Email }}\n\nð§ Rejection email sent successfully.\nð§¾ Google Sheets record updated: Evaluation â âNot suitableâ, Status â âRejectedâ.\n",
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.agent",
      "typeVersion": 2.2,
      "position": [
        1232,
        464
      ],
      "id": "1c453fb8-2f43-46a5-9574-7ab8ec2f9af2",
      "name": "AI Agent Reject"
    },
    {
      "parameters": {
        "model": {
          "__rl": true,
          "mode": "list",
          "value": "gpt-4.1-mini"
        },
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.lmChatOpenAi",
      "typeVersion": 1.2,
      "position": [
        1104,
        672
      ],
      "id": "59b2ced4-a09d-47dd-b9dd-4c7dbd2ad4e6",
      "name": "OpenAI Chat Model3",
      "credentials": {
        "openAiApi": {
          "id": "n5CPqIo8jLwwyoxW",
          "name": "OpenAi account"
        }
      }
    },
    {
      "parameters": {
        "sessionIdType": "customKey",
        "sessionKey": "1"
      },
      "type": "@n8n/n8n-nodes-langchain.memoryBufferWindow",
      "typeVersion": 1.3,
      "position": [
        1248,
        672
      ],
      "id": "dc098d24-2d1d-431d-97e4-8652075c9ee3",
      "name": "Simple Memory2"
    },
    {
      "parameters": {
        "sendTo": "={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('To', ``, 'string') }}",
        "subject": "Application Update â TechNova Solutions  ",
        "emailType": "text",
        "message": "=Hello {{ $('On form submission').item.json.Name }},\n\nThank you for your interest in the {{ $('On form submission').item.json['Job Titles'] }} role at TechNova Solutions.\n\nAfter evaluating your application against the official job description, weâve decided to move forward with other candidates.\n\nWe appreciate your time and wish you the best in your career search.\n\nBest regards,\n\nTechNova HR Team",
        "options": {
          "appendAttribution": false
        }
      },
      "type": "n8n-nodes-base.gmailTool",
      "typeVersion": 2.1,
      "position": [
        1392,
        672
      ],
      "id": "11c71b5b-e276-4148-9e89-a9583d9dbd05",
      "name": "Send a message in Gmail",
      "webhookId": "52641089-c943-497f-acd3-e02e16769b35",
      "credentials": {
        "gmailOAuth2": {
          "id": "1kaFS9UVmMsLooqG",
          "name": "Gmail account"
        }
      }
    },
    {
      "parameters": {
        "operation": "update",
        "documentId": {
          "__rl": true,
          "value": "1EJHGWduQvwaEfsaYI4-gIX5ALr-twon-tLKy8NR7Jm0",
          "mode": "list",
          "cachedResultName": "n8n-hr-agent",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1EJHGWduQvwaEfsaYI4-gIX5ALr-twon-tLKy8NR7Jm0/edit?usp=drivesdk"
        },
        "sheetName": {
          "__rl": true,
          "value": 1885976442,
          "mode": "list",
          "cachedResultName": "Hoja 1",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1EJHGWduQvwaEfsaYI4-gIX5ALr-twon-tLKy8NR7Jm0/edit#gid=1885976442"
        },
        "columns": {
          "mappingMode": "defineBelow",
          "value": {
            "id": "={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('id__using_to_match_', `Use the id from the output from the previous agent`, 'string') }}",
            "Evaluation": "={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Evaluation', ``, 'string') }}",
            "Status": "={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Status', ``, 'string') }}"
          },
          "matchingColumns": [
            "id"
          ],
          "schema": [
            {
              "id": "id",
              "displayName": "id",
              "required": false,
              "defaultMatch": true,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "Date",
              "displayName": "Date",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Name",
              "displayName": "Name",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Email",
              "displayName": "Email",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Position",
              "displayName": "Position",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Evaluation",
              "displayName": "Evaluation",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "Note",
              "displayName": "Note",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Summary",
              "displayName": "Summary",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Status",
              "displayName": "Status",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "row_number",
              "displayName": "row_number",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "number",
              "canBeUsedToMatch": true,
              "readOnly": true,
              "removed": true
            }
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        },
        "options": {}
      },
      "type": "n8n-nodes-base.googleSheetsTool",
      "typeVersion": 4.7,
      "position": [
        1584,
        672
      ],
      "id": "9f1c2c62-330c-4552-a646-e41970aa06cb",
      "name": "Update row in sheet in Google Sheets",
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "oHOKCD5PPAyhDa4b",
          "name": "Google Sheets account"
        }
      }
    },
    {
      "parameters": {
        "operation": "completion",
        "completionTitle": "You are Accepted!!",
        "completionMessage": "Welcome to this shit",
        "options": {
          "customCss": ":root {\n\t--font-family: 'Inter', 'Open Sans', sans-serif;\n\t--font-weight-normal: 400;\n\t--font-weight-bold: 600;\n\t--font-size-body: 14px;\n\t--font-size-label: 14px;\n\t--font-size-header: 26px;\n\t--font-size-error: 12px;\n\n\t/* Tech Gradient Colors */\n\t--color-primary: #6c63ff;\n\t--color-secondary: #38bdf8;\n\t--color-accent: #a855f7;\n\t--color-background: radial-gradient(circle at top left, #0e0f1a, #1b1e2e);\n\t--color-card-bg: rgba(255, 255, 255, 0.08);\n\t--color-card-border: rgba(255, 255, 255, 0.15);\n\t--color-input-bg: rgba(255, 255, 255, 0.08);\n\t--color-input-border: rgba(255, 255, 255, 0.25);\n\t--color-input-text: #e5e7eb;\n\t--color-label: #c5c7d1;\n\t--color-header: #ffffff;\n\t--color-submit-btn-bg: linear-gradient(90deg, var(--color-primary), var(--color-accent));\n\t--color-submit-btn-bg-hover: linear-gradient(90deg, var(--color-accent), var(--color-secondary));\n\t--color-submit-btn-text: #ffffff;\n\t--color-test-notice-bg: rgba(255, 255, 255, 0.08);\n\t--color-test-notice-text: #eab308;\n\n\t--border-radius-card: 16px;\n\t--border-radius-input: 10px;\n\n\t--box-shadow-card: 0 8px 32px rgba(0, 0, 0, 0.25);\n\t--box-shadow-focus: 0 0 12px var(--color-accent);\n\n\t--transition-fast: 0.25s ease;\n}\n\n/* Body Background */\nbody {\n\tbackground: var(--color-background);\n\tfont-family: var(--font-family);\n\tcolor: var(--color-input-text);\n\tdisplay: flex;\n\tjustify-content: center;\n\talign-items: center;\n\tmin-height: 100vh;\n\tmargin: 0;\n}\n\n/* Card Container */\nform {\n\tbackground: var(--color-card-bg);\n\tborder: 1px solid var(--color-card-border);\n\tbackdrop-filter: blur(12px);\n\tbox-shadow: var(--box-shadow-card);\n\tborder-radius: var(--border-radius-card);\n\tpadding: 40px;\n\twidth: 420px;\n\tdisplay: flex;\n\tflex-direction: column;\n\tgap: 18px;\n}\n\n/* Header */\nform h2 {\n\ttext-align: center;\n\tcolor: var(--color-header);\n\tfont-size: var(--font-size-header);\n\tfont-weight: 600;\n\tmargin-bottom: 10px;\n\tletter-spacing: 1px;\n}\n\n/* Labels */\nlabel {\n\tcolor: var(--color-label);\n\tfont-size: var(--font-size-label);\n\tmargin-bottom: 6px;\n\tdisplay: block;\n}\n\n/* Inputs, Select, File */\ninput[type=\"text\"],\ninput[type=\"email\"],\nselect,\ninput[type=\"file\"] {\n\twidth: 100%;\n\tpadding: 12px 14px;\n\tbackground: var(--color-input-bg);\n\tcolor: var(--color-input-text);\n\tborder: 1px solid var(--color-input-border);\n\tborder-radius: var(--border-radius-input);\n\toutline: none;\n\ttransition: border var(--transition-fast), box-shadow var(--transition-fast);\n}\n\ninput:focus,\nselect:focus {\n\tborder-color: var(--color-accent);\n\tbox-shadow: var(--box-shadow-focus);\n}\n\n/* File Input */\ninput[type=\"file\"]::-webkit-file-upload-button {\n\tbackground: var(--color-submit-btn-bg);\n\tcolor: #fff;\n\tborder: none;\n\tpadding: 8px 14px;\n\tborder-radius: 6px;\n\tcursor: pointer;\n\ttransition: background var(--transition-fast);\n}\ninput[type=\"file\"]::-webkit-file-upload-button:hover {\n\tbackground: var(--color-submit-btn-bg-hover);\n}\n\n/* Submit Button */\nbutton[type=\"submit\"],\ninput[type=\"submit\"] {\n\tbackground: var(--color-submit-btn-bg);\n\tborder: none;\n\tborder-radius: 10px;\n\tcolor: var(--color-submit-btn-text);\n\tfont-size: 15px;\n\tfont-weight: 600;\n\tpadding: 14px;\n\tcursor: pointer;\n\ttransition: all var(--transition-fast);\n\tbox-shadow: 0 4px 16px rgba(108, 99, 255, 0.4);\n}\n\nbutton[type=\"submit\"]:hover,\ninput[type=\"submit\"]:hover {\n\tbackground: var(--color-submit-btn-bg-hover);\n\ttransform: translateY(-1px);\n\tbox-shadow: 0 4px 24px rgba(168, 85, 247, 0.5);\n}\n\n/* Test Notice */\n.test-notice {\n\tbackground: var(--color-test-notice-bg);\n\tcolor: var(--color-test-notice-text);\n\tborder: 1px solid rgba(234, 179, 8, 0.3);\n\tpadding: 10px 16px;\n\tborder-radius: 8px;\n\tfont-size: 13px;\n\ttext-align: center;\n\tmargin-bottom: 12px;\n}\n\n/* Smooth placeholder */\n::placeholder {\n\tcolor: rgba(255, 255, 255, 0.5);\n\topacity: 1;\n}\n.subheader {\n  text-align: center;\n  color: #9ca3af;\n  font-size: 13px;\n  margin-top: -6px;\n  margin-bottom: 16px;\n  letter-spacing: 0.5px;\n  text-transform: uppercase;\n  background: linear-gradient(90deg, #6c63ff, #38bdf8);\n  -webkit-background-clip: text;\n  -webkit-text-fill-color: transparent;\n  font-weight: 500;\n}\n\n\n/* Subtle fade-in animation */\n@keyframes fadeIn {\n\tfrom { opacity: 0; transform: translateY(8px); }\n\tto { opacity: 1; transform: translateY(0); }\n}\n\nform {\n\tanimation: fadeIn 0.8s ease forwards;\n}\n\n/* ---------- CUSTOM SELECT ---------- */\n\nselect {\n\tbackground: var(--color-input-bg);\n\tcolor: var(--color-input-text);\n\tborder: 1px solid var(--color-input-border);\n\tborder-radius: var(--border-radius-input);\n\tpadding: 12px 14px;\n\tcursor: pointer;\n\tappearance: none;\n\t-webkit-appearance: none;\n\t-moz-appearance: none;\n\tposition: relative;\n\ttransition: all var(--transition-fast);\n}\n\n\n\n/* Color al pasar el ratÃ³n o enfocar */\nselect:hover,\nselect:focus {\n\tborder-color: var(--color-accent);\n\tbox-shadow: var(--box-shadow-focus);\n\tcolor: #ffffff;\n}\n\n/* Opciones desplegadas */\noption {\n\tbackground-color: #1e2030;\n\tcolor: #e5e7eb;\n\tfont-size: 14px;\n\tpadding: 10px;\n\tcursor: pointer;\n}\n\n/* OpciÃ³n seleccionada y hover */\noption:hover,\noption:checked,\noption:focus {\n\tbackground-color: #2e3350;\n\tcolor: #fff;\n}\n\n/* Placeholder de select (primera opciÃ³n vacÃ­a) */\nselect option:first-child {\n\tcolor: rgba(255, 255, 255, 0.4);\n}\n\n/* Corrige borde inferior mÃ¡s claro en algunos navegadores */\nselect:focus-visible {\n\toutline: none;\n}\n\n/* AÃ±ade transiciÃ³n suave */\nselect,\noption {\n\ttransition: all 0.2s ease;\n}\n\n\n"
        }
      },
      "type": "n8n-nodes-base.form",
      "typeVersion": 2.3,
      "position": [
        1904,
        -48
      ],
      "id": "4a0ad1a9-3201-4c6e-be2d-2746f73518d4",
      "name": "Form",
      "webhookId": "06bec615-d6ce-4f3a-bc4a-d1a2dff3e52e"
    },
    {
      "parameters": {
        "promptType": "define",
        "text": "=You are TalentBot Scheduler, the interview coordination agent for TechNova Solutions.\n\nâââââââââââââââââââââââââââââ\nð¯ OBJECTIVE\nâââââââââââââââââââââââââââââ\nAutomatically schedule the candidateâs interview, notify them by email, update Google Sheets, and alert the HR team on Telegram.\nThe process starts only after HR approval, so the candidate is already Apto.\n\nâââââââââââââââââââââââââââââ\nð§© REQUIRED INPUTS\nâââââââââââââââââââââââââââââ\nUse these exact values provided by the previous workflow nodes:\n\nCandidate name â {{ $('On form submission').item.json.Name }}\n\nCandidate email â {{ $('On form submission').item.json.Email }}\n\nCandidate position â {{ $('On form submission').item.json['Job Titles'] }}\n\nCurrent date/time â {{ $now }}\n\nâââââââââââââââââââââââââââââ\nâï¸ TOOL USAGE ORDER (strict)\nâââââââââââââââââââââââââââââ\n1ï¸â£ Google Calendar â Availability\n\nSearch for the next week (MonâFri, 09:00â18:00).\n\nFind the earliest free 1-hour slot.\n\nIf no free slot is found â set status to âManual scheduling requiredâ.\n\n2ï¸â£ Google Calendar â Create Event\n\nOnly if a free slot exists.\n\nTitle â Interview with {{ $('On form submission').item.json.Name }} â {{ $('On form submission').item.json['Job Titles'] }}\n\nDuration â 1 hour\n\nNotes â First interview with {{ $('On form submission').item.json.Name }} for the {{ $('On form submission').item.json['Job Titles'] }} position.\n\nGenerate a Google Meet link.\n\nIf the event cannot be created â fallback to âManual scheduling requiredâ.\n\n3ï¸â£ Gmail â Send Message\n\nALWAYS send an email to {{ $('On form submission').item.json.Email }}.\n\nIf an event was created â include the scheduled date/time and Meet link.\n\nIf manual â send a message informing the candidate that HR will contact them to confirm availability.\n\n4ï¸â£ Google Sheets â Update Row\n\nFind the candidateâs row by matching their email {{ $('On form submission').item.json.Email }}.\n\nUpdate the following fields:\nâ¢ EvaluaciÃ³n â Apto\nâ¢ Estado â Response sent to candidate\nâ¢ Interview date/time â add the scheduled date if available.\nâ¢ Optionally record the current timestamp â {{ $now }}.\n\n5ï¸â£ Telegram â Send Message\n\nNotify the HR team:\n\nIf the interview is scheduled:\nâ Candidate {{ $('On form submission').item.json.Name }} approved. Interview scheduled for [Date, Time]. Confirmation email sent.\n\nIf manual scheduling was required:\nâ ï¸ Candidate {{ $('On form submission').item.json.Name }} approved. Manual scheduling required. Email sent requesting availability.\n\nâââââââââââââââââââââââââââââ\nâ ï¸ RULES\nâââââââââââââââââââââââââââââ\n\nExecute all steps in exact order and without skipping any.\n\nNever create an event unless availability is confirmed.\n\nAlways send the email and update Sheets, even if manual scheduling is required.\n\nUse {{ $now }} for all timestamps and log creation time in any message or record.\n\nBe deterministic and consistent â no assumptions, no randomness.\n\nAlways, send the date and time in this style \"hh:mm dd/mm/yyyy\"\n\nâââââââââââââââââââââââââââââ\nð¤ OUTPUT FORMAT\nâââââââââââââââââââââââââââââ\n\nð INTERVIEW DETAILS\n\nCandidate: {{ $('On form submission').item.json.Name }}\nPosition: {{ $('On form submission').item.json['Job Titles'] }}\nDate: [Scheduled Date/Time or \"Manual scheduling required\"]\nMeet Link: [URL or \"Manual scheduling required\"]\nGenerated at: {{ $now }}\n\nð EMAIL\n\nSubject: Interview Invitation â TechNova Solutions\nBody:\n\"\"\"\nHello {{ $('On form submission').item.json.Name }},\n\nWeâre pleased to confirm your interview for the {{ $('On form submission').item.json['Job Titles'] }} role at TechNova Solutions.\n\nð Date & time: [Date/time from Calendar]\nð Google Meet: [Meet link]\n\nPlease reply to confirm your availability.\n\nKind regards,\nTechNova HR Team\n\"\"\"\n\nð¬ TELEGRAM MESSAGE\n\n\"\"\"\nâ Candidate {{ $('On form submission').item.json.Name }} approved.\nð Interview scheduled: [Date/time or \"Manual scheduling required\"]\nð§ Email sent to candidate.\nâ Record updated in Google Sheets.\n\"\"\"",
        "options": {}
      },
      "id": "4f80adcd-989c-4cc3-8268-2d299d5fb3a0",
      "name": "AI Agent Approve",
      "type": "@n8n/n8n-nodes-langchain.agent",
      "typeVersion": 1.8,
      "position": [
        1552,
        -32
      ]
    },
    {
      "parameters": {
        "promptType": "define",
        "text": "=You are TalentBot, the automated HR evaluator for TechNova Solutions.\n\nâââââââââââââââââââââââââââââ\nð¯ OBJECTIVE\nâââââââââââââââââââââââââââââ\nAnalyze the candidateâs resume and job description using intelligent contextual reasoning â not keyword matching.\nYou must log the evaluation in Google Sheets and send a professional summary to the HR reviewer via Telegram.\n\nâââââââââââââââââââââââââââââ\nð§© REQUIRED INPUTS\nâââââââââââââââââââââââââââââ\n\nCandidate resume text â {{ $json.text }}\n\nCandidate name â {{ $('On form submission').item.json.Name }}\n\nCandidate email â {{ $('On form submission').item.json.Email }}\n\nCandidate selected position â {{ $('On form submission').item.json['Job Titles'] }}\n\nCurrent time â {{ $now }}\n\nJob description â retrieved via Google Docs\n\nIf any of these are missing â stop and output:\nâ INCOMPLETE DATA â Evaluation cannot proceed.\n\nâââââââââââââââââââââââââââââ\nâï¸ TOOL USAGE ORDER (MANDATORY)\nâââââââââââââââââââââââââââââ\nYou must explicitly call each tool in this exact sequence and wait for its response before continuing.\nUse the output of one tool as the input context for the next.\nNever attempt to perform any tool action internally.\n\n1ï¸â£ Google Docs (Get Document)\nâ Call this tool to retrieve the job description that matches the candidateâs selected position.\nâ Use its text as the reference for evaluation.\n\n2ï¸â£ Think Tool\nâ Call this tool next.\nâ Compare the candidateâs resume ({{ $json.text }}) with the job description from Google Docs.\nâ Apply logical reasoning, not keyword counting.\nâ Infer related experience (e.g., Cybersecurity â networking, incident response).\nâ Produce:\n\nEvaluation: Apto, Pendiente, or No Apto\n\nScore: 0â10\n\nShort contextual summary (2â3 lines)\n\n3ï¸â£ Google Sheets (Append Row)\nâ Call this tool and log a new row with:\n\nFecha â current Madrid time (âhh:mm dd-MM-yyyyâ)\n\nNombre â candidate name\n\nEmail â candidate email\n\nPuesto â selected position\n\nEvaluaciÃ³n â evaluation result\n\nNota â score\n\nResumen Perfil â summary\n\nEstado â âPending HR Reviewâ\nâ Ensure ID is unique and numeric.\n\n4ï¸â£ Telegram (sendMessage)\nâ Call this tool last.\nâ Send a formatted message:\n\nð ID: [id]  \nð New candidate pending validation  \nð¤ Name: [Full Name]  \nð¼ Position: [Job Title]  \nð§ Email: [Email]  \nâ­ Automatic Evaluation: [Apto / No Apto / Pending]  \nð Score: [0â10]  \nð§  Summary: [Short contextual summary of background]  \n\nð Candidateâs CV will be attached below.\n\n\nâââââââââââââââââââââââââââââ\nâ ï¸ RULES\nâââââââââââââââââââââââââââââ\n\nAlways use tools â never simulate them.\n\nUse industry logic and reasoning, not keywords.\n\nAlways append a record in Google Sheets.\n\nAlways send the Telegram message last.\n\nNever alter or summarize the CV content.\n\nEach tool must be called exactly once, in the given order.\n\nâââââââââââââââââââââââââââââ\nð¤ OUTPUT FORMAT (for internal reference)\nâââââââââââââââââââââââââââââ\nId: [id]\nCandidate Summary\nName: [Full Name]\nEmail: [Email]\nPosition: [Position]\nEvaluation: [Apto / No Apto / Pending]\nScore: [0â10]\nSummary: [2â3 lines â contextual description of strengths and fit]\nReasoning: [Brief explanation comparing skills to job description]\n\nâââââââââââââââââââââââââââââ\nð§¾ Google Sheets Record Example\nâââââââââââââââââââââââââââââ\nFecha: [Date/time Madrid]\nNombre: [Candidate Name]\nEmail: [Candidate Email]\nPuesto: [Job Title]\nEvaluaciÃ³n: [Result]\nNota: [Score]\nResumen Perfil: [Summary]\nEstado: âPending HR Reviewâ",
        "options": {}
      },
      "id": "8a4364c7-3c75-445e-b63d-b4c8614678d7",
      "name": "AI Agent Evaluator",
      "type": "@n8n/n8n-nodes-langchain.agent",
      "typeVersion": 1.8,
      "position": [
        -208,
        592
      ]
    },
    {
      "parameters": {
        "operation": "get",
        "documentURL": "=https://docs.google.com/document/d/1KCglXPJGHq7LzyJ1WIfzST-aCJnZ2IIDMqudl6I3Bao/edit?tab=t.0"
      },
      "type": "n8n-nodes-base.googleDocsTool",
      "typeVersion": 2,
      "position": [
        352,
        864
      ],
      "id": "0b02f060-5319-4a4b-917a-5649950be8ee",
      "name": "Get offer details",
      "credentials": {
        "googleDocsOAuth2Api": {
          "id": "RfUBrumqmey9VG6h",
          "name": "Google Docs account"
        }
      }
    },
    {
      "parameters": {
        "chatId": "7460408421",
        "text": "={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Text', ``, 'string') }}",
        "additionalFields": {
          "appendAttribution": false
        }
      },
      "type": "n8n-nodes-base.telegramTool",
      "typeVersion": 1.2,
      "position": [
        352,
        688
      ],
      "id": "1f36820a-4593-4e77-80b0-d677d6eb521c",
      "name": "Send a text message to HR",
      "webhookId": "c13b8634-f7e1-4fd6-ba72-5c578c4dc3ec",
      "credentials": {
        "telegramApi": {
          "id": "kHj2FK1jSEemAAIc",
          "name": "Telegram account"
        }
      }
    },
    {
      "parameters": {
        "operation": "sendDocument",
        "chatId": "7460408421",
        "binaryData": true,
        "binaryPropertyName": "=CV",
        "additionalFields": {}
      },
      "type": "n8n-nodes-base.telegram",
      "typeVersion": 1.2,
      "position": [
        416,
        336
      ],
      "id": "dacc4d88-2f22-4ad4-a8a3-d493b5802a0c",
      "name": "Send CV to HR",
      "webhookId": "c5d63900-da75-4df0-8ad2-ddb4e4c095e2",
      "credentials": {
        "telegramApi": {
          "id": "kHj2FK1jSEemAAIc",
          "name": "Telegram account"
        }
      }
    },
    {
      "parameters": {
        "chatId": "7460408421",
        "text": "={{ $json.output }}",
        "additionalFields": {
          "appendAttribution": false
        }
      },
      "type": "n8n-nodes-base.telegram",
      "typeVersion": 1.2,
      "position": [
        1584,
        464
      ],
      "id": "2beceec2-3e7d-4c96-b3f5-3eca80306058",
      "name": "Send confirmation to HR",
      "webhookId": "f257a061-3ab6-496d-bd89-5fe3a4d2ff4f",
      "credentials": {
        "telegramApi": {
          "id": "kHj2FK1jSEemAAIc",
          "name": "Telegram account"
        }
      }
    }
  ],
  "pinData": {},
  "connections": {
    "Simple Memory": {
      "ai_memory": [
        [
          {
            "node": "AI Agent Evaluator",
            "type": "ai_memory",
            "index": 0
          }
        ]
      ]
    },
    "OpenAI Chat Model": {
      "ai_languageModel": [
        [
          {
            "node": "AI Agent Evaluator",
            "type": "ai_languageModel",
            "index": 0
          }
        ]
      ]
    },
    "Google Sheets": {
      "ai_tool": [
        [
          {
            "node": "AI Agent Evaluator",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    },
    "Gmail": {
      "ai_tool": [
        [
          {
            "node": "AI Agent Approve",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    },
    "Google Calendar": {
      "ai_tool": [
        [
          {
            "node": "AI Agent Approve",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    },
    "Extract from File": {
      "main": [
        [
          {
            "node": "Basic LLM Chain",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Google Calendar1": {
      "ai_tool": [
        [
          {
            "node": "AI Agent Approve",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    },
    "Telegram": {
      "ai_tool": [
        [
          {
            "node": "AI Agent Approve",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    },
    "On form submission": {
      "main": [
        [
          {
            "node": "Extract from File",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Think": {
      "ai_tool": [
        [
          {
            "node": "AI Agent Evaluator",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    },
    "Basic LLM Chain": {
      "main": [
        [
          {
            "node": "AI Agent Evaluator",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "OpenAI Chat Model1": {
      "ai_languageModel": [
        [
          {
            "node": "Basic LLM Chain",
            "type": "ai_languageModel",
            "index": 0
          }
        ]
      ]
    },
    "Simple Memory1": {
      "ai_memory": [
        [
          {
            "node": "AI Agent Approve",
            "type": "ai_memory",
            "index": 0
          }
        ]
      ]
    },
    "OpenAI Chat Model2": {
      "ai_languageModel": [
        [
          {
            "node": "AI Agent Approve",
            "type": "ai_languageModel",
            "index": 0
          }
        ]
      ]
    },
    "Send message and wait for response": {
      "main": [
        [
          {
            "node": "If",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "If": {
      "main": [
        [
          {
            "node": "AI Agent Approve",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "AI Agent Reject",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Google Sheets1": {
      "ai_tool": [
        [
          {
            "node": "AI Agent Approve",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    },
    "AI Agent Reject": {
      "main": [
        [
          {
            "node": "Send confirmation to HR",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "OpenAI Chat Model3": {
      "ai_languageModel": [
        [
          {
            "node": "AI Agent Reject",
            "type": "ai_languageModel",
            "index": 0
          }
        ]
      ]
    },
    "Simple Memory2": {
      "ai_memory": [
        [
          {
            "node": "AI Agent Reject",
            "type": "ai_memory",
            "index": 0
          }
        ]
      ]
    },
    "Send a message in Gmail": {
      "ai_tool": [
        [
          {
            "node": "AI Agent Reject",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    },
    "Update row in sheet in Google Sheets": {
      "ai_tool": [
        [
          {
            "node": "AI Agent Reject",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    },
    "AI Agent Approve": {
      "main": [
        [
          {
            "node": "Form",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "AI Agent Evaluator": {
      "main": [
        [
          {
            "node": "Send CV to HR",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Get offer details": {
      "ai_tool": [
        [
          {
            "node": "AI Agent Evaluator",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    },
    "Send a text message to HR": {
      "ai_tool": [
        [
          {
            "node": "AI Agent Evaluator",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    },
    "Send CV to HR": {
      "main": [
        [
          {
            "node": "Send message and wait for response",
            "type": "main",
            "index": 0
          }
        ]
      ]
    }
  },
  "active": false,
  "settings": {
    "executionOrder": "v1"
  },
  "versionId": "8e7f6725-00ec-4491-b2f1-7399649eec64",
  "meta": {
    "templateCredsSetupCompleted": true,
    "instanceId": "fca6b341e808b09aa1f67f260a98aced1f7bfb83a44ba3d240a4a427ac07583d"
  },
  "id": "9nY3tHhCjbNovr4W",
  "tags": []
}